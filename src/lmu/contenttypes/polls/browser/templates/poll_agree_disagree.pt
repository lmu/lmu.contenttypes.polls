<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      i18n:domain="lmu.contenttypes.polls"
      tal:define="omit view/omit;
                  level view/heading_level"
      tal:omit-tag="omit">
<body tal:define="results view/get_results;
                  has_voted view/has_voted;
                  can_vote view/can_vote;
                  can_edit view/can_edit;
                  wf_state view/wf_state;
                  show_results view/get_show_results;
                  graph_type view/graph_type;"
      tal:omit-tag="omit">

    <tal:preview tal:condition="python: wf_state in ['private', 'pending']" >
      <p class="note" i18n:translate="" > 
        This Poll hasn't been published, you see a preview without voting possibility
      </p>

      <h2 i18n:translate="" >Voting View</h2>
      <div>
        <h3 tal:content="context/title" >Vote-Question</h3>
        <p tal:content="context/description" class="documentDescription" >Description</p>
        <form class="poll">
          <input type="radio" name="options" value="1" id="agree-preview"/><label for="agree" i18n:translate="" class="helper-margin-top-m small-10 small-centered medium-4 large-10 columns">Agree</label><br />
          <input type="radio" name="options" value="2" id="disagree-preview"/><label for="disagree" i18n:translate="" class="helper-margin-top-m small-10 small-centered medium-4 large-10 columns">Disgree</label><br />
          <input type="submit" name="demo.submit" value="Submit" i18n:attributes="value" class="button disabled small radius small-10 small-centered medium-4 large-10 columns helper-margin-top-m" disabled="disabled" />
        </form>
        <div tal:condition="python: show_results == 'with_vote'" >
          <hr />
          <h3  i18n:translate="">Partial results</h3>
          <tal:average tal:condition="python: graph_type in ['average_bar', 'average']">
            <tal:include tal:replace="structure python:view.get_star_average_widget(example=True)" />
          </tal:average>
          <tal:bar tal:condition="python: graph_type in ['average_bar', 'bar']">
            <tal:include tal:replace="structure python:view.get_two_option_bar_widget(example=True)" />
          </tal:bar>
          <tal:numbers tal:condition="python: graph_type == 'numbers'">
            <tal:include tal:replace="structure python:view.get_star_numbers_widget(example=True)" />
          </tal:numbers>
        </div>
      </div>

      <h2 i18n:translate="" >Result View Example</h2>
      <div>
        <tal:average tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['average_bar', 'average']">
            <tal:include tal:replace="structure python:view.get_star_average_widget(example=True)" />
        </tal:average>
        <tal:bar tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['average_bar', 'average']">
            <tal:include tal:replace="structure python:view.get_two_option_bar_widget(example=True)" />
        </tal:bar>
        <tal:numbers tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['numbers']">
            <tal:include tal:replace="structure python:view.get_star_numbers_widget(example=True)" />
        </tal:numbers>
        <tal:no-results tal:condition="python: show_results in ['never']">
          <p i18n:translate="">This Poll did not show results. Thank you for participation.</p>
        </tal:no-results>
      </div>
    </tal:preview>

    <tal:vote-view tal:condition="python: wf_state in ['open', 'published']" >
      <tal:vote tal:condition="python: can_vote and not has_voted">
        <h1 tal:content="context/title" tal:condition="python: level == 'h1'">Vote-Question</h1>
        <h2 tal:content="context/title" tal:condition="python: level == 'h2'">Vote-Question</h2>
        <h3 tal:content="context/title" tal:condition="python: level == 'h3'">Vote-Question</h3>
        <p tal:content="context/description" class="documentDescription" >Description</p>
        <form action="#" method="POST" tal:attributes="action context/absolute_url" class="poll">
          <input type="radio" name="options" value="1" id="agree" /><label for="agree" i18n:translate="" class="helper-margin-top-m small-10 small-centered medium-4 large-10 columns">Agree</label><br />
          <input type="radio" name="options" value="2" id="disagree" /><label for="disagree" i18n:translate="" class="helper-margin-top-m small-10 small-centered medium-4 large-10 columns">Disagree</label><br />
          <input type="submit" name="poll.submit" value="Submit" id="poll-submit" i18n:attributes="value" class="button disabled small radius small-10 small-centered medium-4 large-10 columns helper-margin-top-m" />
        </form>
        <div tal:condition="python: show_results == 'with_vote'" >
          <hr />
          <h3 i18n:translate="" >Partial results</h3>
          <tal:bar tal:condition="python: graph_type in ['bar']">
            <tal:include tal:replace="structure python:view.get_two_option_bar_widget()" />
          </tal:bar>
          <tal:numbers tal:condition="python: graph_type == 'numbers'">
            <tal:include tal:replace="structure python:view.get_star_numbers_widget()" />
          </tal:numbers>
        </div>
      </tal:vote>
      <tal:result tal:condition="python: has_voted" >
        <div>
          <h1 tal:content="context/title" tal:condition="python: level == 'h1'">Vote-Question</h1>
          <h2 tal:content="context/title" tal:condition="python: level == 'h2'">Vote-Question</h2>
          <h3 tal:content="context/title" tal:condition="python: level == 'h3'">Vote-Question</h3>
          <p tal:content="context/description" class="documentDescription" >Description</p>
          <p i18n:translate="">This is the partial Result</p>
          <tal:bar tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['bar']">
            <tal:include tal:replace="structure python:view.get_two_option_bar_widget()" />
          </tal:bar>
          <tal:numbers tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['numbers']">
            <tal:include tal:replace="structure python:view.get_star_numbers_widget()" />
          </tal:numbers>
          <tal:no-results tal:condition="python: show_results in ['never']">
            <p i18n:translate="">This Poll did not show results. Thank you for participation.</p>
          </tal:no-results>
        </div>
      </tal:result>
    </tal:vote-view>

    <tal:closed-view tal:condition="python: wf_state in ['closed']" >
      <p i18n:translate="" >This Poll has been closed</p>
        <div>
          <h1 tal:content="context/title" tal:condition="python: level == 'h1'">Vote-Question</h1>
          <h2 tal:content="context/title" tal:condition="python: level == 'h2'">Vote-Question</h2>
          <h3 tal:content="context/title" tal:condition="python: level == 'h3'">Vote-Question</h3>
          <p tal:content="context/description" class="documentDescription" >Description</p>
          <p tal:condition="python: has_voted" i18n:translate="" >This is the final Result, thanks for participating</p>
          <p tal:condition="python: not has_voted" i18n:translate="" >This is the final Result, you have not participate</p>
          <tal:bar tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['bar']">
            <tal:include tal:replace="structure python:view.get_two_option_bar_widget()" />
          </tal:bar>
          <tal:numbers tal:condition="python: show_results in ['after_vote', 'with_vote'] and graph_type in ['numbers']">
            <tal:include tal:replace="structure python:view.get_star_numbers_widget()" />
          </tal:numbers>
          <tal:no-results tal:condition="python: show_results in ['never']">
            <p tal:condition="python: has_voted" i18n:translate="">This Poll did not show results. Thank you for participation.</p>
            <p tal:condition="python: not has_voted" i18n:translate="">This Poll did not show results. You have not participated.</p>
          </tal:no-results>
        </div>
    </tal:closed-view>

</body>
</html>
